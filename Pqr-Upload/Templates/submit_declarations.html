{% extends "base_menu.html" %}

{% block head %}
{{super()}}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- <script src="https://code.jquery.com/jquery-1.10.1.js" integrity="sha256-663tSdtipgBgyqJXfypOwf9ocmvECGG8Zdl3q+tk+n0=" crossorigin="anonymous"></script> -->
<!-- <script src="//code.jquery.com/jquery-1.11.1.min.js"></script> -->
<!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7.1/js/bootstrap.min.js"></script> -->
<!-- <script src="//code.jquery.com/jquery-1.11.1.min.js"></script> -->


<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> -->

<style>
  .submit_button{

    display: block;
  width: 100%;
  border-style: solid;
  border-width: 5px;
  
  background-color: #4CAF50;
  padding: 14px 28px;
  font-size: 16px;
  cursor: pointer;
  text-align: center;


  }

#imagePreview {
width: 100;
height: 80;
background-position: center center;
background-size: cover;
display: inline-block;
}

</style>


<script>
    // Add products to <table>
    function productsAdd() {
      // First check if a <tbody> tag exists, add one if not
      if ($("#declaration tbody").length == 0) {

        var $id_ = $("#declaration tbody").length


        $("#declaration").append("<tbody></tbody>");
        
        $("#declaration tbody").append(

        "<tr " + "id="+ $id_  + ">" +
          "<td height='50' width='5%'>  <input type='date' name='date_' required pattern='[0-9]{4}/[0-9]{2}/[0-9]{2}'></td>" +
          "<td height='50' width='5%'>  <input type ='text' id='description123' name='description123' size='30' maxlength='300'></td>" +
          "<td height='50' width='5%'>  <input type='number' name='excl_btw' step ='any'  maxlength='10'></td>" +
          
          "<td height='50' width='5%'>  <input type='number' name='btw' step ='any' maxlength='10'></td>" +
          "<td height='50' width='5%'>  <input type='number' name='incl_btw' step ='any' maxlength='10'></td>" +

          "<td height='50' width='5%'>  <input type='file' id='avatar' name='file_'  accept='image/png, image/jpeg'></td>" +


          "<td height='50' width='5%'>" + "<button type='button' "+ "onclick='productDelete(this); '"  + "class='btn btn-default'>" +   "<spanclass='glyphicon glyphicon-remove' />" + "</button>" + "</td>" +



        "</tr>"
        );
      
      
      return 
      }

      if ($("#declaration tbody").length >0 && $("input[name='descr']:last").val() !="" ) {

        var $id_ = $("#declaration tbody").length 

        $("#declaration tbody").append(
          "<tr " + "id="+ $id_ +  ">"  +
          "<td height='30' width='5%'>  <input type='date' name='date_' required pattern='[0-9]{4}/[0-9]{2}/[0-9]{2}'></td>" +
          "<td height='30' width='5%'>  <input type='text' name='description123'  maxlength='300'></td>" +
          "<td height='30' width='5%'>  <input type='number'  name='excl_btw'  maxlength='10'></td>" +
          
          "<td height='30' width='5%'>  <input type='number' name='btw' maxlength='6'></td>" +
          "<td height='30' width='5%'>  <input type='number'  name='incl_btw' maxlength='10'></td>" +

          "<td height='30' width='5%'>  <input type='file' id='avatar' name='file_' accept='image/png, image/jpeg'></td>" +


          "<td height='30' width='5%' >"  +"<button type='button' " + "onclick='productDelete(this); '"  + "class='btn btn-default'>" +   "<spanclass='glyphicon glyphicon-remove' />" + "</button>" + "</td>" +

        "</tr>"
        );

      }

    }

    
    
  </script>

  <script>
  function productDelete(ctl) {
                $(ctl).parents("tr").remove();
              }
  </script>

{% endblock %}

{% block title %}PQR Upload{% endblock %}




{% block content %}

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul class=flashes>
    {% for message in messages %}
      <li>{{ message }}</li>
    {% endfor %}
    </ul>
  {% endif %}
{% endwith %}




<div class="container">
<div class="page-header">
<h1>Hello, {{ name }}!</h1>
</div>

</div>


<div class="container">
  <div class="row">
    <div class="col-lm-6">
      <h2>List Of Declarations</h2>
    </div>
  </div>
  <div class="row">

    <div class="col-lm-6">

      <form action="/Submit/" method="post" name="DelcarationForm" id="DelcarationForm">

      <table id="declaration"
              class="table table-bordered
                     table-condensed table-striped">
        <thead>
          <tr >
            <th align="center" width="5%" > Date </th>
            <th align="center" width="5%" >  Description</th>
            <th align="center" width = "2%"> Excl.Btw</th>
            <th align="center" width="2%" >  Btw</th>
            <th align="center" width = "2%"> Incl.Btw</th>



            <th align="center" width = "5%"> Image/File</th>

           
            <th align="center" width = "5%"> Delete </th>


          </tr>
        </thead>

        <input type="submit"  name='submit' value="SUBMIT DECLARATIONS" class="submit_button" width="100%"> 


      </table>
    </div>
    

  </div>
  
</div>


</table>

<button type="button" id="updateButton"
        class="btn btn-primary"
        onclick=productsAdd()>
  Add Declaration
</button>


</form>


{% endblock %}