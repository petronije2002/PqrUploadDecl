{% extends "base_menu.html" %}

{% block head %}
{{super()}}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- <script src="https://code.jquery.com/jquery-1.10.1.js" integrity="sha256-663tSdtipgBgyqJXfypOwf9ocmvECGG8Zdl3q+tk+n0=" crossorigin="anonymous"></script> -->
<!-- <script src="//code.jquery.com/jquery-1.11.1.min.js"></script> -->
<!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7.1/js/bootstrap.min.js"></script> -->
<!-- <script src="//code.jquery.com/jquery-1.11.1.min.js"></script> -->


<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> -->

<style>
    .submit_button{

      display: block;
    width: 100%;
    border-style: solid;
    border-width: 5px;
    
    background-color: #4CAF50;
    padding: 14px 28px;
    font-size: 16px;
    cursor: pointer;
    text-align: center;


    }

  #imagePreview {
  width: 100;
  height: 80;
  background-position: center center;
  background-size: cover;
  display: inline-block;
  }

</style>


<script>
    // Add products to <table>
    function productsAdd() {
      // First check if a <tbody> tag exists, add one if not
      if ($("#declaration tbody").length == 0) {

        var $id_ = $("#declaration tbody").length

        $("#declaration tbody").append(
        
       

        "<tr " + "id="+ $id_  +" name=descr" + ">" +
        
          "<td class='col-sm'   >  <input type='date' name='date_' placeholder='yyyy-mm-dd' required pattern='[0-9]{4}-[0-9]{2}-[0-9]{2}'></td>" +
          "<td class='col-sm'   >  <input type ='text' id='description123' name='description123'  maxlength='300'></td>" +
          "<td class='col-sm'   >  <input type='number' name='excl_btw' step ='any' min='0' inputmode='numeric'  pattern='[0-9]*' maxlength='10'/></td>" +
          
          "<td class='col-sm'  >  <input type='number' name='btw' step ='any' maxlength='10'></td>" +
          "<td class='col-sm'  >  <input type='number' name='incl_btw' step ='any' maxlength='10'></td>" +

          "<td class='col-sm'   >  <input type='file' id='avatar' name='file_'  accept='image/png, image/jpeg'></td>" +


          "<td class='col-sm'   >" + "<button type='button' "+ "onclick='productDelete(this); '"  + "class='btn btn-default'>" +   "<spanclass='glyphicon glyphicon-remove' />" + "</button>" + "</td>" +


        "</tr>" 

        );
        return
      }

        

      
      
       
      

      if ($("#declaration tbody").length >0 && $("input[name='description123']:last").val() !="" ) {

        var $id_ = $("#declaration tbody").length 

        $("#declaration tbody").append(
         
          "<tr " + "id="+ $id_ + " name=descr"+ ">"  +
          "<th class='col-sm-2'>   <input type='date' name='date_' required placeholder='yyyy-mm-dd' pattern='[0-9]{4}-[0-9]{2}-[0-9]{2}'></th>" +
          "<th class='col-sm-3'>  <input type='text' name='description123'  maxlength='300'></th>" +
          "<th class='col-sm-1'>  <input type='number'  name='excl_btw'  maxlength='10'></th>" +
          
          "<th class='col-sm-1'>  <input type='number' name='btw' maxlength='6'></th>" +
          "<th class='col-sm-1'>   <input type='number'  name='incl_btw' maxlength='10'></th>" +

          "<th class='col-sm-3'>   <input type='file' id='avatar' name='file_' accept='image/png, image/jpeg'></th>" +


          "<th class='col-sm-1'>"  +"<button type='button' " + "onclick='producthelete(this); '"  + "class='btn btn-default'>" +   "<spanclass='glyphicon glyphicon-remove' />" + "</button>" + "</th>" +

        "</tr>" 
        
        );

        
      }
    }

    

    
    
  </script>

  

<script>
  $(document).ready(productsAdd())
  </script>
  

{% endblock %}



{% block title %}

PQR Upload

{% endblock %}

{% block content %}





  <div class="container">

    <div class="row">
        <div class="page-header">
            <h1>Hello, {{ name }}!</h1>
        </div>
    </div>

    <div class="row">
      <div class="col-lm-11">
        <h2>List Of Declarations</h2>
      </div>
    </div>
  </div> 


  
  <div class="container-fluid">
      <form action="/Submit/" method="post" name="DelcarationForm" id="DelcarationForm">

      <div class="row">
          <tr >
            <th class="col-sm-12" > <input type="submit"  name='submit' value="SUBMIT DECLARATIONS" class="submit_button"> </th>
          </tr>
      </div>

      
        
        
        <div class="row">
          <table id="declaration" class="table table-bordered table-condensed table-striped table order-list">
              <thead>

                

                <tr>
                  <th> Date </th>
                  <th>  Description</th>
                  <th> Excl.Btw</th>
                  <th>  Btw</th>
                  <th> Incl.Btw</th>
                  <th> Image/File</th>
                  <th> Delete </th>
                </tr>
              </thead>

              <div class="row">
                <tbody>


                </tbody>


              
              </div>

          </table>

        </div>
      </form>
  </div>

 
  <div class="container-fluid">
    <div class="row">
      <button type="button" id="updateButton"
              class="btn btn-primary"
              onclick=productsAdd()>
        Add Declaration
      </button>
    </div>
  </div>






  <script>
    function productDelete(ctl) {
                  $(ctl).parents("tr").remove();
                }
  </script>


{% endblock %}